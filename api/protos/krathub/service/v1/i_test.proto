syntax = "proto3";

package krathub.service.v1;

import "gnostic/openapi/v3/annotations.proto";
import "google/api/annotations.proto";
import "test/service/v1/test.proto";

// Test HTTP 服务 - 用于 OpenAPI 生成
service TestService {
  rpc Hello(test.service.v1.HelloRequest) returns (test.service.v1.HelloResponse) {
    option (google.api.http) = {
      post: "/v1/test/Hello"
      body: "*"
    };
  }

  rpc Test(test.service.v1.TestRequest) returns (test.service.v1.TestResponse) {
    option (google.api.http) = {
      post: "/v1/test/test"
      body: "*"
    };
  }

  rpc PrivateTest(test.service.v1.PrivateTestRequest) returns (test.service.v1.PrivateTestResponse) {
    option (gnostic.openapi.v3.operation) = {
      security: [
        {
          additional_properties: [
            {
              name: "BearerAuth"
              value: {}
            }
          ]
        }
      ]
    };
    option (google.api.http) = {
      post: "/v1/test/private"
      body: "*"
    };
  }
}
